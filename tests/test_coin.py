from faucetpump import coin

FAKE_ADDRESSES = ['63917BE4EDF80A6B606C735590BF41C7C9160EFFD2DC6D74', '65B8478CC953CBBE1E567F5B807868DA389FAFD2327317B6',
	'63C0B882C439965FBB1CBC5501F28ABF6DEEA10960696490', '91D95E040B564D647F7B26C8095FA62992194CB0C163E6D8',
	'9646B39E31D5A5AD9B5394CED8DECC0DF2ECD4FC70699620', '20880A2A58DA2346328E1C5691E3AEB4E89D1AA4B1D104F6',
	'94DB06815BE7372C233F8BC141FB5123282263BE3A9C949E', '98D1B709B2FFEC260FA899654968A8DCD0D02000E4CAA519',
	'7AD4088B1ABAFC9D9356B93D8AE7C0AD1B860CC57F2B403A', '22B06CAF2012283D233F12B618F538156553B4238D24D65B']

def test_moneypot_selection():
	pot = coin.Moneypot(FAKE_ADDRESSES)
	for i in range(0, 10):
		assert pot.get_addr() in FAKE_ADDRESSES

def test_moneypot_fatigue():
	pot = coin.Moneypot(FAKE_ADDRESSES, addr_fatigue_threshold=5)
	for faddr in FAKE_ADDRESSES[1:]:
		pot.address_fatigue[faddr] = 6

	assert pot.get_addr() == FAKE_ADDRESSES[0]
